<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <style>
        .truncate-text {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            /* Show up to 3 lines */
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            max-height: 75px;
            /* Approximate height for 3 lines, adjust as needed */
        }

        .blog-header {
            line-height: 1;
            border-bottom: 1px solid #e5e5e5;
        }

        .blog-header-logo {
            font-family: "Playfair Display", Georgia, "Times New Roman", serif;
            font-size: 2.25rem;
        }

        .card-img-right {
            height: 100%;
            border-radius: 0 3px 3px 0;
            object-fit: cover;
        }

        .flex-auto {
            flex: 0 0 auto;
        }

        .h-250 {
            height: 250px;
        }

        @media (min-width: 768px) {
            .h-md-250 {
                height: 250px;
            }
        }

        .blog-post {
            margin-bottom: 4rem;
        }

        .blog-post-title {
            margin-bottom: .25rem;
            font-size: 2.5rem;
        }

        .blog-post-meta {
            margin-bottom: 1.25rem;
            color: #727272;
        }

        .card-image-container {
            width: 200px;
            height: 250px;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }


        .card-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .content-container {
            overflow: hidden;
            max-height: 200px;
            /* Adjust as needed */
        }


        .card-img-custom {
            height: 100%;
            width: 100%;
            /* Ensure image takes full width of its container */
            object-fit: cover;
            border-radius: 0 3px 3px 0;
            /* Apply border-radius only to the right side */
        }

        .card-image-wrapper {
            width: 200px;
            /* Fixed width for the image column */
            height: 250px;
            /* Fixed height for the image column, matching h-md-250 */
            overflow: hidden;
            display: flex;
            /* Use flex to center the image if needed */
            justify-content: center;
            align-items: center;
           
        }

        /* ... your existing CSS ... */

        @keyframes gradientAnimation {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .animated-gradient-bg {
            background: linear-gradient(270deg, #6a11cb, #2575fc, #8a2be2);
            /* Purple, Blue, Violet */
            background-size: 400% 400%;
            /* Make the gradient larger than the element to allow animation */
            animation: gradientAnimation 15s ease infinite;
            /* Apply the animation */
            color: white;
            /* Ensure text is readable on dark background */
        }

        /* Override Bootstrap's text-body-secondary if it's applied to text within this div */
        .animated-gradient-bg h4,
        .animated-gradient-bg p {
            color: white !important;
            /* !important is often needed to override Bootstrap's text color utilities */
        }

        .flex-md-row > .col {
            display: flex;
            flex-direction: column;
        }
        /* NEW: Ensure the image column itself takes full height */
        .flex-md-row > .col-auto {
            display: flex;
            flex-direction: column;
            align-items: flex-end; /* Align the image wrapper to the right within this column */
        justify-content: center; /* Center the image vertically within the image column if it's shorter */
        align-self: stretch; 
        } 

.row.flex-md-row {
        /* Ensure this main card container is a flex container and its items align to the start (top) */
        display: flex;
        align-items: stretch; /* Make direct flex children (columns) stretch to fill height */
    }

    </style>
</head>

<body>
    <div class="container">
        <header class="blog-header py-3">
            <div class="row flex-nowrap justify-content-between align-items-center">
                <div class="col-4 pt-1">
                    <a class="text-muted" href="#">Subscribe</a>
                </div>
                <div class="col-4 text-center">
                    <a class="blog-header-logo text-dark" href="#">Dev Door</a>
                </div>
                <div class="col-4 d-flex justify-content-end align-items-center">
                    
                    <a class="btn btn-sm btn-outline-secondary" href="/new">New Post</a>
                </div>
            </div>
        </header>

        <div class="nav-scroller py-1 mb-2">
            <nav class="nav d-flex justify-content-between">
                <a class="p-2 text-muted" href="/">Home</a>
                <a class="p-2 text-muted" href="#">About Us</a>


                <a class="p-2 text-muted" href="#">Posts</a>

            </nav>
        </div>

        <main role="main" class="container">
            <div class="container-fluid">
                <div class="row mb-4">
                    <div class="col">
                        <img class="banner img-fluid mx-auto d-block h-75 w-100" src="/images/image.png" alt="dev door">
                    </div>
                    <h1 style="display: inline-block;">Dev Door</h1>
                </div>
            </div>

            <!-- Unified posts section -->
          <div class="row mb-2">
                <% posts.forEach((post)=> { %>
                    <div class="col-md-6">
                        <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative h-100">
                            <div class="col p-4 d-flex flex-column position-static">
                                <strong
                                    class="d-inline-block mb-2 <%= posts.indexOf(post) % 2 === 0 ? 'text-primary-emphasis' : 'text-success-emphasis' %>">
                                    <%= posts.indexOf(post) % 2===0 ? 'Article' : 'Article' %>
                                </strong>
                                <h3 class="mb-0">
                                    <%= post.title %>
                                </h3>
                                <div class="mb-1 text-body-secondary">
                                    <%= post.date %>
                                </div>
                                <p class="mb-auto card-text truncate-text">
                                    <%= post.content %>
                                </p>
                                <a href="/post/<%= post.id %>" class="icon-link gap-1 icon-link-hover stretched-link">
                                    Continue reading
                                    <svg class="bi" aria-hidden="true">
                                        <use xlink:href="#chevron-right"></use>
                                    </svg>
                                </a>
                            </div>
                            <div class="col-auto d-none d-lg-block align-self-stretch">
                                <% if (post.image) { %>
                                    <div class="card-image-wrapper">
                                        <img src="<%= post.image %>" class="bd-placeholder-img card-img-custom"
                                            width="200" height="250" alt="Post image">
                                    </div>
                                <% } else { %>
                                    <div class="card-image-wrapper">
                                        <svg class="bd-placeholder-img card-img-custom" width="200" height="250"
                                            xmlns="http://www.w3.org/2000/svg" role="img"
                                            aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice"
                                            focusable="false">
                                            <title>Placeholder</title>
                                            <rect width="100%" height="100%" fill="#55595c"></rect>
                                            <text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text>
                                        </svg>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>
            <aside class="col-md-12 blog-sidebar">
                <div class="p-4 mb-3 rounded animated-gradient-bg">
                    <h4 class="font-italic">About Dev Door</h4>
                    <p class="mb-0">
                        Welcome to Dev Door, your very passionate and amazing blogging website! We're dedicated to
                        bringing you the latest insights, tutorials, and discussions in the world of technology and
                        beyond. Join our community and explore new horizons with us.
                    </p>
                </div>
            </aside>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
</body>

</html>